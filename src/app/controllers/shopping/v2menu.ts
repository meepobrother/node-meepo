import { Controller, Get, Query, Param, Request } from '@nestjs/common';
import * as fetch from 'node-fetch';
import * as pinyin from 'pinyin';
import { CitiesService } from '../../tables/cities';

import { AddressBase } from '../core';
@Controller('shopping/v2/menu')
export class V2MenuCtrl extends AddressBase {
    constructor() {
        super();
    }

    @Get()
    index() {
        return items;
    }
}

let items = [{"name":"热销榜","description":"大家喜欢吃，才叫真好吃。","id":2,"restaurant_id":1,"foods":[{"_id":"5a22fa825e602c0c46e3b20e","tips":"714评价 月售764份","item_id":1,"category_id":2,"restaurant_id":1,"activity":{"image_text":"舒服的沙发上对方","icon_color":"f07373","image_text_color":"f1884f"},"image_path":"160223ecb2d95.png","name":"麻辣烫","__v":0,"specfoods":[{"specs_name":"默认","name":"麻辣烫","item_id":1,"sku_id":31,"food_id":31,"restaurant_id":1,"_id":"5a2570543ba8590522fa7455","specs":[],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":462,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":2.6,"packing_fee":0,"pinyin_name":"","original_price":0}],"satisfy_rate":12,"satisfy_count":588,"attributes":[{"icon_name":"新","icon_color":"5ec452"},{"icon_name":"招牌","icon_color":"f07373"}],"is_essential":false,"server_utc":"2017-12-02T19:07:11.840Z","specifications":[],"rating_count":714,"month_sales":764,"description":"似懂非懂舒服的沙发上放","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4.2},{"_id":"5a22fb555e602c0c46e3b210","tips":"248评价 月售635份","item_id":2,"category_id":2,"restaurant_id":1,"activity":{"image_text_color":"f1884f","icon_color":"f07373","image_text":"是对方是否是对方是否的沙发上"},"image_path":"1601a3cdafe35.jpg","name":"汉堡","__v":0,"specfoods":[{"specs_name":"默认","name":"汉堡","item_id":2,"sku_id":3,"food_id":3,"restaurant_id":1,"_id":"5a2363945e602c0c46e3b224","specs":[],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":723,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":0.8,"packing_fee":0,"pinyin_name":"","original_price":0}],"satisfy_rate":27,"satisfy_count":470,"attributes":[{"icon_color":"5ec452","icon_name":"新"},{"icon_color":"f07373","icon_name":"招牌"}],"is_essential":false,"server_utc":"2017-12-02T19:07:11.840Z","specifications":[],"rating_count":248,"month_sales":635,"description":"似懂非懂舒服是对方的沙发上发呆时","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4.6},{"_id":"5a24b9683ba8590522fa70bf","tips":"809评价 月售545份","item_id":6,"category_id":2,"restaurant_id":1,"activity":{"image_text_color":"f1884f","icon_color":"f07373","image_text":"bbb"},"image_path":"160211a2a2693.jpg","name":"111","__v":0,"specfoods":[{"specs_name":"默认","name":"111","item_id":6,"sku_id":28,"food_id":28,"restaurant_id":1,"_id":"5a2525693ba8590522fa7368","specs":[],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":451,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":1,"packing_fee":1,"pinyin_name":"","original_price":0}],"satisfy_rate":56,"satisfy_count":323,"attributes":[{"icon_color":"5ec452","icon_name":"新"}],"is_essential":false,"server_utc":"2017-12-03T12:37:27.907Z","specifications":[],"rating_count":809,"month_sales":545,"description":"ccc","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4.5},{"_id":"5a251aa73ba8590522fa7321","tips":"435评价 月售374份","item_id":7,"category_id":2,"restaurant_id":1,"activity":null,"image_path":"16020f014f888.jpg","name":"Curry","__v":0,"specfoods":[{"specs_name":"默认","name":"Curry","item_id":7,"sku_id":33,"food_id":33,"restaurant_id":1,"_id":"5a2602133ba8590522fa74f0","specs":[{"name":"规格","value":"默认","_id":"5a2602133ba8590522fa74f1"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":209,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":4.5,"packing_fee":0,"pinyin_name":"","original_price":0},{"specs_name":"wwd","name":"Curry","item_id":7,"sku_id":34,"food_id":34,"restaurant_id":1,"_id":"5a2602133ba8590522fa74ee","specs":[{"name":"规格","value":"wwd","_id":"5a2602133ba8590522fa74ef"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":991,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":1,"packing_fee":0,"pinyin_name":"","original_price":0},{"specs_name":"","name":"Curry","item_id":7,"sku_id":35,"food_id":35,"restaurant_id":1,"_id":"5a2602133ba8590522fa74ec","specs":[{"name":"规格","value":"","_id":"5a2602133ba8590522fa74ed"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":199,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":0.3,"packing_fee":0,"pinyin_name":"","original_price":0}],"satisfy_rate":14,"satisfy_count":172,"attributes":[{"icon_name":"招牌","icon_color":"f07373"}],"is_essential":false,"server_utc":"2017-12-03T12:37:27.907Z","specifications":[{"values":["默认","wwd",""],"name":"规格"}],"rating_count":435,"month_sales":374,"description":"rweee","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4.2},{"_id":"5a264b103ba8590522fa776e","tips":"917评价 月售49份","item_id":11,"category_id":2,"restaurant_id":1,"activity":null,"image_path":"16025953d42132.jpg","name":"f1","__v":0,"specfoods":[{"specs_name":"默认","name":"f1","item_id":11,"sku_id":47,"food_id":47,"restaurant_id":1,"_id":"5a264b103ba8590522fa776f","specs":[],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":663,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":3.1,"packing_fee":0,"pinyin_name":"","original_price":0}],"satisfy_rate":98,"satisfy_count":141,"attributes":[],"is_essential":false,"server_utc":"2017-12-03T12:37:27.907Z","specifications":[],"rating_count":917,"month_sales":49,"description":"","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4.3}],"type":1,"icon_url":"5da3872d782f707b4c82ce4607c73d1ajpeg","is_selected":true,"__v":11},{"name":"优惠","description":"美味又实惠, 大家快来抢!","id":3,"restaurant_id":1,"foods":[{"_id":"5a237c305e602c0c46e3b2ba","tips":"974评价 月售899份","item_id":3,"category_id":3,"restaurant_id":1,"activity":null,"image_path":"1601a9c8c2041.jpg","name":"米粉","__v":0,"specfoods":[{"specs_name":"默认","name":"米粉","item_id":3,"sku_id":45,"food_id":45,"restaurant_id":1,"_id":"5a2647e53ba8590522fa7755","specs":[{"name":"规格","value":"默认","_id":"5a2647e53ba8590522fa7756"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":482,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":3,"packing_fee":0,"pinyin_name":"","original_price":0},{"specs_name":"中辣","name":"米粉","item_id":3,"sku_id":46,"food_id":46,"restaurant_id":1,"_id":"5a2647e53ba8590522fa7753","specs":[{"name":"规格","value":"中辣","_id":"5a2647e53ba8590522fa7754"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":665,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":4,"packing_fee":0,"pinyin_name":"","original_price":0}],"satisfy_rate":73,"satisfy_count":906,"attributes":[{"icon_color":"5ec452","icon_name":"新"},{"icon_color":"f07373","icon_name":"招牌"}],"is_essential":false,"server_utc":"2017-12-02T19:07:11.840Z","specifications":[{"name":"规格","values":["默认","中辣"]}],"rating_count":974,"month_sales":899,"description":"","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4.2},{"_id":"5a237ca05e602c0c46e3b2c1","tips":"114评价 月售358份","item_id":4,"category_id":3,"restaurant_id":1,"activity":null,"image_path":"1601a9ed72642.jpg","name":"凉皮2","__v":0,"specfoods":[{"specs_name":"默认","name":"凉皮2","item_id":4,"sku_id":20,"food_id":20,"restaurant_id":1,"_id":"5a24f0083ba8590522fa719c","specs":[],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":395,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":4,"packing_fee":0,"pinyin_name":"","original_price":0}],"satisfy_rate":84,"satisfy_count":31,"attributes":[{"icon_name":"招牌","icon_color":"f07373"}],"is_essential":false,"server_utc":"2017-12-02T19:07:11.840Z","specifications":[],"rating_count":114,"month_sales":358,"description":"done","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4}],"type":1,"icon_url":"4735c4342691749b8e1a531149a46117jpeg","is_selected":true,"__v":9},{"name":"饮料","description":"饮料","restaurant_id":1,"id":8,"foods":[{"_id":"5a23be5c5e602c0c46e3b310","tips":"61评价 月售534份","item_id":5,"category_id":8,"restaurant_id":1,"activity":{"image_text_color":"f1884f","icon_color":"f07373","image_text":"年末大优惠"},"image_path":"1601f58257064.png","name":"冰红茶","__v":0,"specfoods":[{"specs_name":"默认","name":"冰红茶","item_id":5,"sku_id":23,"food_id":23,"restaurant_id":1,"_id":"5a250daa3ba8590522fa72c1","specs":[{"name":"规格","value":"默认","_id":"5a250daa3ba8590522fa72c2"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":898,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":4,"packing_fee":2,"pinyin_name":"","original_price":0},{"specs_name":"我的","name":"冰红茶","item_id":5,"sku_id":24,"food_id":24,"restaurant_id":1,"_id":"5a250daa3ba8590522fa72bf","specs":[{"name":"规格","value":"我的","_id":"5a250daa3ba8590522fa72c0"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":303,"sold_out":false,"price":22,"promotion_stock":-1,"recent_rating":2.8,"packing_fee":3,"pinyin_name":"","original_price":0}],"satisfy_rate":88,"satisfy_count":911,"attributes":[{"icon_color":"f07373","icon_name":"招牌"}],"is_essential":false,"server_utc":"2017-12-02T19:07:11.840Z","specifications":[{"name":"规格","values":["默认","我的"]}],"rating_count":61,"month_sales":534,"description":"康师傅冰红茶","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4.2},{"_id":"5a25254e3ba8590522fa7365","tips":"690评价 月售632份","item_id":8,"category_id":8,"restaurant_id":1,"activity":{"image_text":"111","icon_color":"f07373","image_text_color":"f1884f"},"image_path":"1602119311f92.jpg","name":"66666666","__v":0,"specfoods":[{"specs_name":"默认","name":"66666666","item_id":8,"sku_id":27,"food_id":27,"restaurant_id":1,"_id":"5a25254e3ba8590522fa7366","specs":[],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":29,"sold_out":false,"price":60,"promotion_stock":-1,"recent_rating":3.5,"packing_fee":20,"pinyin_name":"","original_price":0}],"satisfy_rate":8,"satisfy_count":565,"attributes":[{"icon_name":"招牌","icon_color":"f07373"}],"is_essential":false,"server_utc":"2017-12-03T12:37:27.907Z","specifications":[],"rating_count":690,"month_sales":632,"description":"qqqqqqqqqqq","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4.9},{"_id":"5a25fb8d3ba8590522fa74d0","tips":"495评价 月售663份","item_id":9,"category_id":8,"restaurant_id":1,"activity":null,"image_path":"160245eaf9697.png","name":"asgf","__v":0,"specfoods":[{"specs_name":"默认","name":"asgf","item_id":9,"sku_id":36,"food_id":36,"restaurant_id":1,"_id":"5a260f5d3ba8590522fa758d","specs":[{"name":"规格","value":"默认","_id":"5a260f5d3ba8590522fa758e"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":513,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":0.9,"packing_fee":0,"pinyin_name":"","original_price":0},{"specs_name":"点点滴滴","name":"asgf","item_id":9,"sku_id":37,"food_id":37,"restaurant_id":1,"_id":"5a260f5d3ba8590522fa758b","specs":[{"name":"规格","value":"点点滴滴","_id":"5a260f5d3ba8590522fa758c"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":663,"sold_out":false,"price":24,"promotion_stock":-1,"recent_rating":2,"packing_fee":5,"pinyin_name":"","original_price":0},{"specs_name":"","name":"asgf","item_id":9,"sku_id":38,"food_id":38,"restaurant_id":1,"_id":"5a260f5d3ba8590522fa7589","specs":[{"name":"规格","value":"","_id":"5a260f5d3ba8590522fa758a"}],"stock":1000,"checkout_mode":1,"is_essential":false,"recent_popularity":643,"sold_out":false,"price":20,"promotion_stock":-1,"recent_rating":4.9,"packing_fee":0,"pinyin_name":"","original_price":0}],"satisfy_rate":48,"satisfy_count":761,"attributes":[],"is_essential":false,"server_utc":"2017-12-03T12:37:27.907Z","specifications":[{"name":"规格","values":["默认","点点滴滴",""]}],"rating_count":495,"month_sales":663,"description":"","attrs":[],"display_times":[],"pinyin_name":"","is_featured":0,"rating":4.5}],"type":1,"icon_url":"","is_selected":true,"__v":9}];